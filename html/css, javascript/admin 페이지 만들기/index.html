<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>Admin Page</title>
  <style>
    /* ë‹¤í¬ ëª¨ë“œ ìŠ¤íƒ€ì¼ */
    .dark-mode {
      background-color: #121212;
      color: white;
    }
    .dark-mode table {
      background-color: #1e1e1e;
    }
  </style>
</head>
<body>
  <div class="container mt-3">
    <div class="d-flex justify-content-between align-items-center">
      <h3 class="mt-5 mb-3">ì‹ ê·œ ë“±ë¡ ìƒí’ˆ</h3>
      <div>
        <button class="btn btn-secondary me-2" onclick="toggleDarkMode()">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#signupModal">íšŒì›ê°€ì…</button>
      </div>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
      <span id="currentDateTime"></span>
    </div>

    <!-- í•„í„°ë§ í¼ -->
    <form class="row row-cols-lg-auto g-3 align-items-center">
      <div class="col-12">
        <select class="form-select" id="categorySelect" onchange="filterProducts()">
          <option value="all">ì „ì²´</option>
          <option value="ìƒì˜">ìƒì˜</option>
          <option value="í•˜ì˜">í•˜ì˜</option>
          <option value="ì‹ ë°œ">ì‹ ë°œ</option>
          <option value="íŒ¨ì…˜ì¡í™”">íŒ¨ì…˜ì¡í™”</option>
        </select>
      </div>
      <div class="col-3">
        <input type="text" class="form-control" id="searchInput" placeholder="ìƒí’ˆëª… ê²€ìƒ‰" onkeyup="filterProducts()">
      </div>
    </form>

    <!-- ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” -->
    <div class="container mt-3">
      <table class="table table-sm">
        <thead>
          <tr>
            <th>ìƒí’ˆ ì½”ë“œ</th>
            <th>ì¹´í…Œê³ ë¦¬</th>
            <th>ë¸Œëœë“œ</th>
            <th>ìƒí’ˆëª…</th>
            <th>ê°€ê²©</th>
          </tr>
        </thead>
        <tbody id="product_data_Table">
        </tbody>
      </table>
    </div>

    <!-- í˜ì´ì§€ ë„¤ì´ì…˜ -->
    <nav>
      <ul class="pagination justify-content-center" id="pagination"></ul>
    </nav>
  </div>

  <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->
  <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="signupModalLabel">íšŒì›ê°€ì…</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="signupForm">
            <div class="mb-3">
              <label class="form-label">ì´ë¦„</label>
              <input type="text" class="form-control" id="name" required>
            </div>
            <div class="mb-3">
              <label class="form-label">ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸</label>
              <div class="d-flex">
                <input type="text" class="form-control me-2" id="ssnFront" placeholder="ì•ìë¦¬ (6ìë¦¬)" maxlength="6" required>
                <input type="password" class="form-control" id="ssnBack" placeholder="ë’·ìë¦¬ (7ìë¦¬)" maxlength="7" required>
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">ì„±ë³„</label><br>
              <input type="radio" name="gender" value="ë‚¨ì„±" required> ë‚¨ì„±
              <input type="radio" name="gender" value="ì—¬ì„±"> ì—¬ì„±
            </div>
            <div class="mb-3">
              <label class="form-label">ì•„ì´ë””</label>
              <input type="text" class="form-control" id="username" required>
            </div>
            <div class="mb-3">
              <label class="form-label">ë¹„ë°€ë²ˆí˜¸</label>
              <input type="password" class="form-control" id="password" required>
            </div>
            <div class="mb-3">
              <label class="form-label">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
              <input type="password" class="form-control" id="confirmPassword" required>
            </div>
            <div class="mb-3">
              <label class="form-label">ì´ë©”ì¼</label>
              <input type="email" class="form-control" id="email" required>
            </div>
            <button type="submit" class="btn btn-success">íšŒì›ê°€ì…</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script>
    const product_data = [
      { code: "P001", category: "ìƒì˜", brand: 'Supreme', product: 'ìŠˆí”„ë¦¼ ë°•ìŠ¤ë¡œê³  í›„ë“œí‹°', price: '390,000' },
      { code: "P002", category: "í•˜ì˜", brand: 'DIESEL', product: 'ë””ì ¤ íŠ¸ë™ íŒ¬ì¸ ', price: '188,000' },
      { code: "P003", category: "ì‹ ë°œ", brand: 'Nike', product: 'ì—ì–´í¬ìŠ¤ 1', price: '137,000' },
      { code: "P004", category: "íŒ¨ì…˜ì¡í™”", brand: 'Music&Goods', product: 'ë¹µë¹µì´ í‚¤ë§', price: '29,000' },
      { code: "P005", category: "ìƒì˜", brand: 'Nike', product: 'ë‚˜ì´í‚¤ ìŠ¤ìš°ì‹œ ë§¨íˆ¬ë§¨', price: '89,000' },
      { code: "P006", category: "í•˜ì˜", brand: 'Adidas', product: 'ì•„ë””ë‹¤ìŠ¤ ì¡°ê±° íŒ¬ì¸ ', price: '78,000' },
      { code: "P007", category: "ì‹ ë°œ", brand: 'New Balance', product: 'ë‰´ë°œë€ìŠ¤ 530', price: '139,000' },
      { code: "P008", category: "íŒ¨ì…˜ì¡í™”", brand: 'GUCCI', product: 'êµ¬ì°Œ ì¹´ë“œì§€ê°‘', price: '490,000' }
    ];

    let filteredData = [...product_data];
    const itemsPerPage = 3;
    let currentPage = 1;

    function loadTableData(page = 1) {
      const tableBody = document.getElementById("product_data_Table");
      tableBody.innerHTML = "";
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedData = filteredData.slice(startIndex, endIndex);

      paginatedData.forEach((item) => {
        const row = tableBody.insertRow();
        row.insertCell(0).textContent = item.code;
        row.insertCell(1).textContent = item.category;
        row.insertCell(2).textContent = item.brand;
        row.insertCell(3).textContent = item.product;
        row.insertCell(4).textContent = item.price;
      });

      setupPagination(filteredData, page);
    }

    function setupPagination(data, page) {
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = "";
      const pageCount = Math.ceil(data.length / itemsPerPage);

      for (let i = 1; i <= pageCount; i++) {
        const li = document.createElement('li');
        li.classList.add('page-item');
        if (i === page) li.classList.add('active');

        const link = document.createElement('a');
        link.classList.add('page-link');
        link.innerText = i;
        link.href = "#";
        link.onclick = (e) => {
          e.preventDefault();
          currentPage = i;
          loadTableData(currentPage);
        };

        li.appendChild(link);
        pagination.appendChild(li);
      }
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }
    
    document.getElementById("signupForm").addEventListener("submit", function(event) {
  event.preventDefault(); // ê¸°ë³¸ ì œì¶œ ë™ì‘ ë§‰ê¸°

  // ì…ë ¥ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  const name = document.getElementById("name").value;
  const ssnFront = document.getElementById("ssnFront").value;
  const ssnBack = document.getElementById("ssnBack").value;
  const gender = document.querySelector('input[name="gender"]:checked')?.value;
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;
  const confirmPassword = document.getElementById("confirmPassword").value;
  const email = document.getElementById("email").value;

  // ë¹„ë°€ë²ˆí˜¸ & ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì²´í¬
  if (password !== confirmPassword) {
    alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }

  // íšŒì›ê°€ì… ì •ë³´ í™•ì¸ ë©”ì‹œì§€
  const message = `
    ğŸ‰ íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!
    --------------------------
    ğŸ“› ì´ë¦„: ${name}
    ğŸ”¢ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸: ${ssnFront}-*******
    ğŸ³ ì„±ë³„: ${gender ? gender : "ë¯¸ì„ íƒ"}
    ğŸ‘¤ ì•„ì´ë””: ${username}
    ğŸ”’ ë¹„ë°€ë²ˆí˜¸: ********
    ğŸ“§ ì´ë©”ì¼: ${email}
  `;

  alert(message); // ì…ë ¥ê°’ í™•ì¸ ì•Œë¦¼

  // í¼ ì´ˆê¸°í™”
  document.getElementById("signupForm").reset();

  // íšŒì›ê°€ì… ëª¨ë‹¬ ë‹«ê¸°
  let signupModal = bootstrap.Modal.getInstance(document.getElementById('signupModal'));
  signupModal.hide();
});

function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
  }

  // ìƒí’ˆ ê²€ìƒ‰ ê¸°ëŠ¥
  function filterProducts() {
    const searchText = document.getElementById("searchInput").value.toLowerCase();
    const category = document.getElementById("categorySelect").value;

    // í•„í„°ë§ ì ìš©: ì¹´í…Œê³ ë¦¬ + ê²€ìƒ‰ì–´ ë°˜ì˜
    filteredData = product_data.filter(item => {
      const matchesCategory = category === "all" || item.category === category;
      const matchesSearch = item.product.toLowerCase().includes(searchText);
      return matchesCategory && matchesSearch;
    });

    // í•„í„°ë§ í›„ ì²« í˜ì´ì§€ë¡œ ì´ë™
    currentPage = 1;
    loadTableData(currentPage);
  }



    loadTableData();
    
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>